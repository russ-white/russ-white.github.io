"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.savePackageJson = exports.getPackageJson = void 0;
const fs_1 = require("fs");
const path_utils_1 = require("./path-utils");
function getPackageJson(path) {
    if (!path) {
        return null;
    }
    path = (0, path_utils_1.getPackageJsonPath)(path);
    if (!path.endsWith("package.json")) {
        return null;
    }
    if (!(0, fs_1.existsSync)(path)) {
        return null;
    }
    const content = (0, fs_1.readFileSync)(path, "utf8");
    return JSON.parse(content);
}
exports.getPackageJson = getPackageJson;
function savePackageJson(path, obj) {
    if (!path) {
        console.error("ERR:", "No path provided");
        return;
    }
    if (!obj) {
        console.error("ERR:", "No object provided");
        return;
    }
    path = (0, path_utils_1.getPackageJsonPath)(path);
    (0, fs_1.writeFileSync)(path, JSON.stringify(obj, null, 2));
}
exports.savePackageJson = savePackageJson;
