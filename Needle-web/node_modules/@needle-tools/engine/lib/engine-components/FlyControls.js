import { Behaviour, GameObject } from "./Component";
import { FlyControls as ThreeFlyControls } from "three/examples/jsm/controls/FlyControls";
import { Camera } from "./Camera";
export class FlyControls extends Behaviour {
    _controls = null;
    onEnable() {
        const cam = GameObject.getComponent(this.gameObject, Camera)?.cam;
        this._controls = new ThreeFlyControls(cam, this.context.renderer.domElement);
        this._controls.rollSpeed = .5;
        this._controls.movementSpeed = 3;
        this._controls.dragToLook = true;
    }
    onDisable() {
        this._controls?.dispose();
        this._controls = null;
    }
    update() {
        if (this._controls)
            this._controls.update(this.context.time.deltaTime);
    }
}
//# sourceMappingURL=FlyControls.js.map